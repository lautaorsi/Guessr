<html lang="es">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="../static/logo.png">
        <link rel="stylesheet" href="../styles/resume.css">
        <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Gabarito&family=Merriweather Sans">
        <script src="https://kit.fontawesome.com/493860cbeb.js" crossorigin="anonymous"></script>
        <script src="https://randojs.com/2.0.0.js"></script>
    </head>


    <body>
        <title>VideoGuessr - Game Resume</title>
        <img src="../static/logo.png" alt="logo" class="logoimg" draggable="false" onclick="window.location='https://videoguessr.com/'">
            <a href="index.html">
                <button id="return" >
                    <i class="fa-solid fa-arrow-left" style="color: #000000;"></i>
                </button>
            </a>
            <div id="main_container">
                <h2 id="congrats"></h2>
                <h2 id="points"></h3>
                <div id="imgcontainer">
                    <video src="" id="gif" autoplay muted loop>
                </div>
                <button id="start" class="main_buttons" onclick="myFunction1()">
                    Play again
                </button>
                <button id="menu" class="main_buttons" onclick="myFunction()">
                    Return to menu
                </button>

            </div>
            <div class="bott_container">
                <div class="mobile_credit">
                    <a href="credits.html">Credits</a>
                </div>
                <div class="credit_cont" id="credit_cont">
                    <div id="credit_title">Credits:</div>
                </div>
            </div>
    </body>
    <script>
        const objcredits = JSON.parse(localStorage.getItem('credits'))
        const objrounds = localStorage.getItem('rounds')
        const rounds = (objrounds)
        const objscore = localStorage.getItem('points')
        var score = JSON.stringify(objscore)
        const fail_gifs = ['../static/fail2.mp4','../static/fail3.mp4','../static/fail5.mp4','../static/fail6.mp4','../static/fail8.mp4']
        const wow_gifs = ['../static/wow2.mp4']
        if (objscore/rounds >= 1100){
            document.getElementById('congrats').innerHTML='Wow! You got:'
            var gif = rando(wow_gifs.length - 1)
            document.getElementById('gif').src = wow_gifs[gif]
        }
        if(objscore/rounds >= 800){
            document.getElementById('congrats').innerHTML='Well played! You got:'
            var gif = rando(wow_gifs.length - 1)
            document.getElementById('gif').src = wow_gifs[gif]
        }
        else{
            document.getElementById('congrats').innerHTML='Better luck next time! You got:'
            var gif = rando(fail_gifs.length - 1)
            document.getElementById('gif').src = fail_gifs[gif]
        }
        document.getElementById('points').innerHTML = `${objscore} Points`
        function myFunction(){
            window.location.href = 'index.html'
        }
        function myFunction1(){
            window.location.href = 'game.html'
        }
        objcredits.forEach(function(element) {
            var x = document.createElement('div');
            x.classList.add('credit');
            x.innerHTML = `${element['round']}: <a href="${element['link']}" style='color:c8c8c8;'>${element['name']}</a>`;
            document.getElementById("credit_cont").appendChild(x);
        })
    </script>


</html>
