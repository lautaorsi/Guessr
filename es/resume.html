<html lang="es">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="../static/logo.png">
        <link rel="stylesheet" href="../styles/resume.css">
        <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Gabarito&family=Merriweather Sans">
        <script src="https://kit.fontawesome.com/493860cbeb.js" crossorigin="anonymous"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">



    </head>


    <body>
        <title>VideoGuessr - Resumen</title>
            <h1 id="Title">VideoGuessr</h1>
            <a href="index.html">
                <button id="return" >
                    <i class="fa-solid fa-arrow-left" style="color: #000000;"></i>
                </button>
            </a>
            <div id="main_container">
                <h2 id="congrats"></h2>
                <h2 id="points"></h3>
                <div id="imgcontainer">
                    <video src="" id="gif" autoplay muted loop>
                </div>
                <button id="start" class="main_buttons" onclick="myFunction1()">

                    Jugar de nuevo
                </button>
                <button id="menu" class="main_buttons" onclick="myFunction()">
                    Volver al menu
                </button>

            </div>
            <div class="bott_container">
                <div class="mobile_credit">
                    <a href="creditos.html">Creditos</a>
                </div>
                <div class="credit_cont" id="credit_cont">
                    <div id="credit_title">Creditos:</div>
                </div>
            </div>
    </body>
    <script>
        function getRandomIndex(max) {
        /* The function will return a random number between 0 and max - 1 */
        return Math.floor(Math.random() * Math.floor(max));
        }


        const objcredits = JSON.parse(localStorage.getItem('credits'))
        const objrounds = localStorage.getItem('rounds')
        const rounds = JSON.stringify(objrounds)
        const objscore = localStorage.getItem('points')
        var score = JSON.stringify(objscore)
        const fail_gifs = ['../static/fail2.mp4','../static/fail3.mp4','../static/fail5.mp4','../static/fail6.mp4','../static/fail8.mp4']
        const wow_gifs = ['../static/wow2.gif']
        if (objscore/rounds >= 1100){
            document.getElementById('congrats').innerHTML='Wow! Obtuviste:'
            document.getElementById('gif').src = wow_gifs[getRandomIndex(wow_gifs.length)]
        }
        if(objscore/rounds >= 800){
            document.getElementById('congrats').innerHTML='Bien jugado! Obtuviste:'
            document.getElementById('gif').src = wow_gifs[getRandomIndex(wow_gifs.length)]
        }
        else{
            document.getElementById('congrats').innerHTML='Mejor suerte la proxima! Obtuviste:'
            document.getElementById('gif').src = fail_gifs[getRandomIndex(fail_gifs.length)]
        }
        document.getElementById('points').innerHTML = `${objscore} Puntos`
        function myFunction(){
            window.location.href = 'index.html'
        }
        function myFunction1(){
            window.location.href = 'game.html'
        }
        objcredits.forEach(function(element) {
            var x = document.createElement('div');
            x.classList.add('credit');
            x.innerHTML = `${element['round']}: <a href="${element['link']}" style='color:#383838;'>${element['name']}</a>`;
            document.getElementById("credit_cont").appendChild(x);
        })
            
        
    </script>


</html>
